type: grid
cards:
  - type: conditional
    conditions:
      - condition: state
        entity: "12"
        state: "12"
    card:
      type: vertical-stack
      cards:
        - type: custom:button-card
          name: Статусная строка
          styles:
            card:
              - height: 1px
              - background: transparent
              - border: none
          action: none
  - type: custom:vertical-stack-in-card
    cards:
      - type: custom:mushroom-chips-card
        chips:
          - type: template
            hold_action:
              action: none
            double_tap_action:
              action: none
            entity: media_player.samsungtv
            icon: mdi:power
            tap_action:
              action: perform-action
              perform_action: remote.send_command
              target:
                entity_id: remote.universal_remote
              data:
                num_repeats: 1
                delay_secs: 0.4
                hold_secs: 0
                command: power
                device: b550
            card_mod:
              style: |
                ha-card {
                  opacity: 0.4 }   
                ha-card:hover {
                  opacity: 1 }     
                ha-card:active {
                  scale: 0.8;
                }  
          - type: spacer
          - type: template
            icon: |-
              {% if states(entity) == 'on'%} mdi:television
              {% else %} 
              {% endif %}
            tap_action:
              action: none
            hold_action:
              action: none
            double_tap_action:
              action: none
            entity: media_player.samsung
            card_mod:
              style: |
                ha-card {
                  opacity: 0.4 }   
        alignment: end
        card_mod:
          style: |
            {% set top = 7 %}
            {% set chip_height = 48 %}
            {% include 'title_chips_scrollable.jinja' %}
    card_mod:
      style: |
        ha-card {
          /* Стили ha-card */
          position: fixed !important;
          top: 100px !important;
          left: calc(50vw + var(--mdc-drawer-width, 0px)/2) !important;
          transform: translateX(-50%) !important;
          width: calc(90vw - var(--mdc-drawer-width, 0px)) !important;
          max-width: 950px !important;
          min-width: 450px !important;
          height: calc(100% - 40px) !important;
          max-height: 60px !important;  /* 30px - отступ от краёв */
          min-height: 50px !important;  /* Минимальная высота */
          


          height: 100vh !important;
          z-index: 1 !important;
          --chip-height: 60px;
          --chip-spacing: 20px;
          --chip-background: transparent;
          --chip-icon-size: 35px; 
          --chip-border-radius: 100px;
          --chip-padding: 12px;
          /* Визуальные стили ha-card */
          background: rgba(0,0,0,0) !important;


          padding: 0px 0px !important;

          
          /* Выравнивание содержимого */

          
          /* Анимация */
          transition: all 0.3s ease !important;
        }
  - type: conditional
    conditions:
      - condition: state
        entity: "12"
        state: "12"
    card:
      type: vertical-stack
      cards:
        - type: custom:button-card
          name: Карта
          styles:
            card:
              - height: 1px
              - background: transparent
              - border: none
              - color: red
          action: none
  - type: custom:vertical-stack-in-card
    cards:
      - type: vertical-stack
        cards:
          - type: custom:mushroom-template-card
            primary: |+

            secondary: ""
            icon: ""
            picture: ""
            badge_icon: ""
            badge_color: ""
            layout: vertical
            icon_color: ""
            tap_action:
              action: more-info
            double_tap_action:
              action: none
            fill_container: true
            card_mod:
              style: |
                {% set domain = '' %}
                {% set file = '/local/cards_img/samsung.jpg' %}
                {% set entity = 'media_player.samsungtv' %}
                {% set state_off = '1' %}

                {% include 'cover_card_cover.jinja' %}
          - type: custom:mushroom-template-card
            primary: Samsung HW-B550
            secondary: |
              {{state_translated(config.entity)}}
            icon: ""
            picture: ""
            badge_icon: ""
            badge_color: ""
            layout: vertical
            icon_color: ""
            tap_action:
              action: none
            double_tap_action:
              action: none
            fill_container: true
            entity: media_player.samsung
            card_mod:
              style:
                .: |
                  {% include 'cover_device_name.jinja' %}
                mushroom-state-info$: |
                  .container {
                   --card-secondary-font-size: 15px;
                   --card-primary-font-size: 20px;
                   --card-secondary-color: rgba(var(--rgb-primary-text-color), 0.6);
                  }
          - type: custom:mushroom-chips-card
            chips:
              - type: template
                icon: fas:backward-step
                tap_action:
                  action: perform-action
                  perform_action: remote.send_command
                  target:
                    entity_id: remote.universal_remote
                  data:
                    num_repeats: 1
                    delay_secs: 0.4
                    hold_secs: 0
                    command: left
                    device: b550
                hold_action:
                  action: none
                double_tap_action:
                  action: none
                card_mod:
                  style:
                    .: |
                      {% set hover = 'true' %}
                      {% include 'button_opacity.jinja' %}
              - type: template
                entity: media_player.yandex_station_m00en2100jayck
                tap_action:
                  action: perform-action
                  perform_action: remote.send_command
                  target:
                    entity_id: remote.universal_remote
                  data:
                    num_repeats: 1
                    delay_secs: 0.4
                    hold_secs: 0
                    command: play
                    device: b550
                hold_action:
                  action: none
                double_tap_action:
                  action: none
                icon: mdi:play-pause
                card_mod:
                  style:
                    .: |
                      {% set hover = 'true' %}
                      {% set icon_size = '1.9' %}
                      {% include 'button_opacity.jinja' %}
              - type: template
                icon: fas:forward-step
                icon_color: "1"
                tap_action:
                  action: perform-action
                  perform_action: remote.send_command
                  target:
                    entity_id: remote.universal_remote
                  data:
                    num_repeats: 1
                    delay_secs: 0.4
                    hold_secs: 0
                    command: right
                    device: b550
                hold_action:
                  action: none
                double_tap_action:
                  action: none
                card_mod:
                  style:
                    .: |
                      {% set hover = 'true' %}
                      {% include 'button_opacity.jinja' %}
            alignment: justify
            card_mod:
              style:
                .: >
                  {% set background_color =
                  '1rgba(var(--rgb-primary-text-color), 0.1)' %}

                  {% include 'cover_buttons_stack.jinja' %}
          - type: custom:mushroom-chips-card
            chips:
              - type: template
                tap_action:
                  action: navigate
                  navigation_path: "#samsung"
                icon: mdi:dots-horizontal
                icon_color: "1"
                hold_action:
                  action: none
                double_tap_action:
                  action: none
                card_mod:
                  style:
                    .: |
                      {% set hover = 'true' %}
                      {% set icon_size = '1.2' %}
                      {% include 'button_opacity.jinja' %}
            alignment: center
            layout_options:
              grid_columns: full
            card_mod:
              style:
                .: |
                  ha-card {
                    --chip-background: none !important;
                    --chip-border-radius: 1000px;
                    --chip-height: 45px;
                    --chip-spacing:0px;
                    margin-top: 0px;
        grid_options:
          columns: 24
          rows: auto
        card_mod:
          style: |
            ha-card:before {
              transform: translate3d(0,0,0);
              -webkit-transform: translate3d(0,0,0);
              content: "";
              position: absolute;
              height: 100%;
              width: 100%;

              background: transparent !important;
              filter: blur(0px) saturate(200%);
              background-size: 100% 100%;
            }
            ha-card {

            background-color: transparent !important;
            padding: 0px;
              transform: translate3d(0,0,0);
              -webkit-transform: translate3d(0,0,0);

            }
    card_mod:
      style: |
        ha-card {
          /* Стили ha-card */
          position: fixed !important;
          top: 160px !important;
          left: calc(50vw + var(--mdc-drawer-width, 0px)/2) !important;
          transform: translateX(-50%) !important;
          width: calc(90vw - var(--mdc-drawer-width, 0px)) !important;
          max-width: 950px !important;
          min-width: 450px !important;
          z-index: 1 !important;
          /* Визуальные стили ha-card */
          background: transparent !important;

          
          /* Выравнивание содержимого */

          
          /* Анимация */
          transition: all 0.3s ease !important;
        }
  - type: vertical-stack
    cards:
      - type: custom:bubble-card
        card_type: pop-up
        hash: "#samsung"
        name: Samsung HW-B550
        icon: mdi:soundbar
        margin_top_mobile: calc(100vh - 580px)
        margin_top_desktop: calc(100vh - 530px)
        show_header: false
        close_by_clicking_outside: false
        backdrop_blur: "5"
        bg_blur: "100"
        bg_opacity: "88"
      - type: custom:mushroom-chips-card
        chips:
          - type: template
            content: Samsung HW-B550
            double_tap_action:
              action: none
            tap_action:
              action: none
            hold_action:
              action: none
            icon: ""
          - type: spacer
          - type: back
        layout_options:
          grid_columns: full
        card_mod:
          style:
            mushroom-back-chip:nth-child(3)$: |
              ha-state-icon {
                --card-mod-icon: mdi:close;
              }
            .: |
              ha-card {
                margin: 12px 0px 0px;
                --chip-background: none;
                --chip-border-width: 0;
                --chip-box-shadow: none;
                --chip-border-radius: 12px;
                --chip-height: 40px;
                --chip-padding: 14px;
                --chip-spacing: -35px;
                --chip-icon-size: 0.7em;
                --chip-font-size: 0.6em;
              }
              }
      - type: custom:mushroom-media-player-card
        entity: media_player.samsung
        volume_controls:
          - volume_set
        layout: horizontal
        primary_info: none
        secondary_info: none
        icon_type: none
        card_mod:
          style:
            mushroom-media-player-volume-control$: |
              mushroom-slider {
                --main-color: #505050 !important;
                --bg-color: #50505055 !important;
                --control-height: 25px !important;

              }
            .: |
              ha-card {
                background: transparent;
                border-width: 0px;
                  }
      - type: custom:stack-in-card
        cards:
          - type: custom:mushroom-chips-card
            chips:
              - type: template
                tap_action:
                  action: perform-action
                  perform_action: remote.send_command
                  target:
                    entity_id: remote.universal_remote
                  data:
                    num_repeats: 1
                    delay_secs: 0.4
                    hold_secs: 0
                    command: mute
                    device: b550
                hold_action:
                  action: none
                double_tap_action:
                  action: none
                icon: mdi:volume-mute
                card_mod:
                  style: |
                    ha-card:hover {
                      --chip-background: rgba(var(--rgb-primary-text-color), 0.1);
                      }
              - type: template
                icon: mdi:circle-small
                tap_action:
                  action: perform-action
                  perform_action: remote.send_command
                  target:
                    entity_id: remote.universal_remote
                  data:
                    num_repeats: 1
                    delay_secs: 0.4
                    hold_secs: 0
                    command: up
                    device: b550
                hold_action:
                  action: none
                double_tap_action:
                  action: none
                card_mod:
                  style: |
                    ha-card:hover {
                      --chip-background: rgba(var(--rgb-primary-text-color), 0.1);
                      }
              - type: template
                tap_action:
                  action: perform-action
                  perform_action: remote.send_command
                  target:
                    entity_id: remote.universal_remote
                  data:
                    num_repeats: 1
                    delay_secs: 0.4
                    hold_secs: 0
                    command: source
                    device: b550
                hold_action:
                  action: none
                double_tap_action:
                  action: none
                icon: mdi:import
                card_mod:
                  style: |
                    ha-card:hover {
                      --chip-background: rgba(var(--rgb-primary-text-color), 0.1);
                      }
            alignment: justify
            card_mod:
              style: |
                ha-card {
                     margin: 20px 18px 0px 18px;
                      --chip-background: rgba(var(--rgb-disabled), 0);
                      --chip-border-width: 0;
                      --chip-box-shadow: none;
                      --chip-border-radius: 15px;
                      --chip-height: 45px;
                      --chip-padding: 15px;
                      --chip-spacing: 20px;
                }
          - type: custom:mushroom-chips-card
            chips:
              - type: template
                tap_action:
                  action: perform-action
                  perform_action: remote.send_command
                  target:
                    entity_id: remote.universal_remote
                  data:
                    num_repeats: 1
                    delay_secs: 0.4
                    hold_secs: 0
                    command: vol-
                    device: b550
                hold_action:
                  action: none
                double_tap_action:
                  action: none
                icon: mdi:volume-medium
                card_mod:
                  style: |
                    ha-card:hover {
                      --chip-background: rgba(var(--rgb-primary-text-color), 0.1);
                      }
              - type: spacer
              - type: template
                icon: mdi:circle-small
                tap_action:
                  action: perform-action
                  perform_action: remote.send_command
                  target:
                    entity_id: remote.universal_remote
                  data:
                    num_repeats: 1
                    delay_secs: 0.4
                    hold_secs: 0
                    command: left
                    device: b550
                hold_action:
                  action: none
                double_tap_action:
                  action: none
                card_mod:
                  style: |
                    ha-card:hover {
                      --chip-background: rgba(var(--rgb-primary-text-color), 0.1);
                      }
              - type: template
                tap_action:
                  action: perform-action
                  perform_action: remote.send_command
                  target:
                    entity_id: remote.universal_remote
                  data:
                    num_repeats: 1
                    delay_secs: 0.4
                    hold_secs: 0
                    command: play
                    device: b550
                hold_action:
                  action: none
                double_tap_action:
                  action: none
                icon: mdi:play-pause
                icon_color: "1"
                card_mod:
                  style: |
                    ha-card:hover {
                      --chip-background: rgba(var(--rgb-primary-text-color), 0.1);
                      }
              - type: template
                icon: mdi:circle-small
                tap_action:
                  action: perform-action
                  perform_action: remote.send_command
                  target:
                    entity_id: remote.universal_remote
                  data:
                    num_repeats: 1
                    delay_secs: 0.4
                    hold_secs: 0
                    command: right
                    device: b550
                hold_action:
                  action: none
                double_tap_action:
                  action: none
                card_mod:
                  style: |
                    ha-card:hover {
                      --chip-background: rgba(var(--rgb-primary-text-color), 0.1);
                      }
              - type: spacer
              - type: template
                tap_action:
                  action: perform-action
                  perform_action: remote.send_command
                  target:
                    entity_id: remote.universal_remote
                  data:
                    num_repeats: 1
                    delay_secs: 0.4
                    hold_secs: 0
                    command: vol+
                    device: b550
                hold_action:
                  action: none
                double_tap_action:
                  action: none
                icon: mdi:volume-high
                card_mod:
                  style: |
                    ha-card:hover {
                      --chip-background: rgba(var(--rgb-primary-text-color), 0.1);
                      }
            alignment: center
            card_mod:
              style: |
                ha-card {
                     margin: 18px 18px 20px 18px;
                      --chip-background: rgba(var(--rgb-disabled), 0);
                      --chip-border-width: 0;
                      --chip-box-shadow: none;
                      --chip-border-radius: 15px;
                      --chip-height: 45px;
                      --chip-padding: 15px;
                      --chip-spacing: 20px;
                }
          - type: custom:mushroom-chips-card
            chips:
              - type: template
                icon: mdi:information
                tap_action:
                  action: perform-action
                  perform_action: remote.send_command
                  target:
                    entity_id: remote.universal_remote
                  data:
                    num_repeats: 1
                    delay_secs: 0.4
                    hold_secs: 0
                    command: info
                    device: b550
                hold_action:
                  action: none
                double_tap_action:
                  action: none
                card_mod:
                  style: |
                    ha-card:hover {
                      --chip-background: rgba(var(--rgb-primary-text-color), 0.1);
                      }
              - type: template
                icon: mdi:circle-small
                tap_action:
                  action: perform-action
                  perform_action: remote.send_command
                  target:
                    entity_id: remote.universal_remote
                  data:
                    num_repeats: 1
                    delay_secs: 0.4
                    hold_secs: 0
                    command: down
                    device: b550
                hold_action:
                  action: none
                double_tap_action:
                  action: none
                card_mod:
                  style: |
                    ha-card:hover {
                      --chip-background: rgba(var(--rgb-primary-text-color), 0.1);
                      }
              - type: template
                icon: mdi:bluetooth-connect
                tap_action:
                  action: perform-action
                  perform_action: remote.send_command
                  target:
                    entity_id: remote.universal_remote
                  data:
                    num_repeats: 1
                    delay_secs: 0.4
                    hold_secs: 0
                    command: bt
                    device: b550
                hold_action:
                  action: none
                double_tap_action:
                  action: none
                card_mod:
                  style: |
                    ha-card:hover {
                      --chip-background: rgba(var(--rgb-primary-text-color), 0.1);
                      }
            alignment: justify
            card_mod:
              style: |
                ha-card {
                     margin: 0px 18px 10px 18px;
                      --chip-background: rgba(var(--rgb-disabled), 0);
                      --chip-border-width: 0;
                      --chip-box-shadow: none;
                      --chip-border-radius: 15px;
                      --chip-height: 45px;
                      --chip-padding: 15px;
                      --chip-spacing: 20px;
                }
          - type: custom:mushroom-chips-card
            chips:
              - type: template
                content: BASS-
                tap_action:
                  action: perform-action
                  perform_action: remote.send_command
                  target:
                    entity_id: remote.universal_remote
                  data:
                    num_repeats: 1
                    delay_secs: 0.4
                    hold_secs: 0
                    command: bass-
                    device: b550
                hold_action:
                  action: none
                double_tap_action:
                  action: none
                entity: ""
                card_mod:
                  style: |
                    ha-card:hover {
                      --chip-background: rgba(var(--rgb-primary-text-color), 0.1);
                      }
              - type: spacer
              - type: template
                icon: mdi:cog
                tap_action:
                  action: perform-action
                  perform_action: remote.send_command
                  target:
                    entity_id: remote.universal_remote
                  data:
                    num_repeats: 1
                    delay_secs: 0.4
                    hold_secs: 0
                    command: settings
                    device: b550
                hold_action:
                  action: none
                double_tap_action:
                  action: none
                entity: ""
                card_mod:
                  style: |
                    ha-card:hover {
                      --chip-background: rgba(var(--rgb-primary-text-color), 0.1);
                      }
              - type: spacer
              - type: template
                content: BASS+
                tap_action:
                  action: perform-action
                  perform_action: remote.send_command
                  target:
                    entity_id: remote.universal_remote
                  data:
                    num_repeats: 1
                    delay_secs: 0.4
                    hold_secs: 0
                    command: bass+
                    device: b550
                hold_action:
                  action: none
                double_tap_action:
                  action: none
                entity: ""
                card_mod:
                  style: |
                    ha-card:hover {
                      --chip-background: rgba(var(--rgb-primary-text-color), 0.1);
                      }
            alignment: center
            card_mod:
              style: |
                ha-card {
                     margin: 20px 18px 10px 18px;
                      --chip-background: rgba(var(--rgb-disabled), 0);
                      --chip-border-width: 0;
                      --chip-box-shadow: none;
                      --chip-border-radius: 15px;
                      --chip-height: 45px;
                      --chip-padding: 15px;
                      --chip-spacing: 20px;
                }
        card_mod:
          style:
            .: |
              ha-card {
                background: transparent;
                border-width: 0px;

                  }
  - type: heading
    icon: mdi:soundbar
    heading: "3.0"
    heading_style: title
    visibility:
      - condition: state
        entity: "1233"
        state: "12121"
