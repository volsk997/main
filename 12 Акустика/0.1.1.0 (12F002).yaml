type: grid
cards:
  - type: custom:mushroom-chips-card
    chips:
      - type: template
        icon: mdi:power
        icon_color: |2-
                {%if is_state(config.entity,'on')%} red
                {%else %} disabled
                {% endif %}
        entity: input_boolean.akustika
        tap_action:
          action: toggle
        hold_action:
          action: none
        double_tap_action:
          action: none
        card_mod:
          style: |
            ha-card:hover {
              --chip-background: rgba(var(--rgb-primary-text-color), 0.1);
              scale: 1.1;}
      - type: spacer
      - type: template
        icon: mdi:information
        icon_color: disabled
        tap_action:
          action: more-info
        hold_action:
          action: none
        double_tap_action:
          action: none
        entity: input_boolean.akustika
        card_mod:
          style: |
            ha-card:hover {
              --chip-background: rgba(var(--rgb-primary-text-color), 0.1);
              scale: 1.1;}
    alignment: start
    card_mod:
      style: |
        ha-card {
          opacity:1000%;
          --chip-height: 50px;
          --chip-background: none;
          --chip-border-radius: 50px;

          background-color: transparent !important;
          }
        ha-card:hover {
           opacity: 100%; }
        ha-card > .chip-container {
          flex-wrap: nowrap;
          overflow-x: scroll;
          overflow-y: hidden;
          --chip-spacing: 0px;
          --chip-height: 45px;
          --chip-font-weight: bolder; 
          --primary-tet-color: white;
          margin-top: 5px;
          margin-left: 0px;  
          margin-right: 0px;
          margin-bottom: 0px; 
          padding-bottom: 0px;
        }
        ha-card > .chip-container > * {
          flex-shrink: 0;
        }
  - type: vertical-stack
    cards:
      - type: custom:mushroom-template-card
        primary: |+

        secondary: ""
        icon: ""
        picture: ""
        badge_icon: ""
        badge_color: ""
        layout: vertical
        icon_color: ""
        tap_action:
          action: more-info
        double_tap_action:
          action: none
        fill_container: true
        card_mod:
          style: |
            ha-card:before {
              transform: translate3d(0,0,0);
              -webkit-transform: translate3d(0,0,0);
              content: "";
              background: url('/local/cards_img/edifier1.png') center no-repeat;
              
              background-size: cover;
              margin: 0px 0px -20px 0px;
              aspect-ratio: 1 / 1; 
              border-radius: 30px;
              }
            ha-card {
              border-radius: 30px; 
              border: 2px outset rgba(0,0,0,0);}
              border-width: 0px;
      - type: custom:mushroom-template-card
        primary: Edifier R1280DB
        secondary: "{{states(config.entity)}}"
        icon: ""
        entity: input_select.r1280db_source
        picture: ""
        badge_icon: ""
        badge_color: ""
        layout: vertical
        icon_color: ""
        tap_action:
          action: none
        double_tap_action:
          action: none
        fill_container: true
        card_mod:
          style:
            .: |
              ha-card { 
                margin-top: 0px;
                margin-left: 0px;
                margin-right: 0px;
                background: none !important ;
                }
            mushroom-state-info$: |
              .container {
               --card-secondary-font-size: 15px;
               --card-primary-font-size: 20px;
               --card-secondary-color: rgba(var(--rgb-primary-text-color), 0.6);
              }
      - type: custom:stack-in-card
        cards:
          - type: custom:stack-in-card
            cards:
              - type: custom:mushroom-template-card
                primary: |+

                secondary: ""
                icon: ""
                picture: ""
                badge_icon: ""
                badge_color: ""
                layout: vertical
                icon_color: ""
                tap_action:
                  action: more-info
                double_tap_action:
                  action: none
                fill_container: true
                card_mod:
                  style: |
                    ha-card:before {
                      transform: translate3d(0,0,0);
                      -webkit-transform: translate3d(0,0,0);
                      content: "";
                      background: url('/local/cards_img/edifier1.png') center no-repeat;
                      
                      background-size: cover;
                      margin: 0px 0px -20px 0px;
                      filter: blur(0px) saturate(100%) brightness(50%);
                      aspect-ratio: 1 / 1; 
                      border-radius: 30px;
                      }
                    ha-card {
                      border-radius: 30px; 
                      border: 2px outset rgba(0,0,0,0);}
                      border-width: 0px;
            card_mod:
              style: |
                ha-card {
                  border-radius: 35px; 
                     }
          - type: custom:mushroom-chips-card
            chips:
              - type: spacer
              - type: template
                icon: mdi:skip-previous
                tap_action:
                  action: perform-action
                  perform_action: media_player.media_previous_track
                  target:
                    entity_id: media_player.edifier
                hold_action:
                  action: none
                double_tap_action:
                  action: none
                card_mod:
                  style: |
                    ha-card:hover {
                      --chip-background: rgba({{states('input_text.player_card_button_hover_color')}});
                      scale: 1.1;}
              - type: spacer
              - type: template
                tap_action:
                  action: perform-action
                  perform_action: script.play_pause
                  target: {}
                hold_action:
                  action: none
                double_tap_action:
                  action: none
                icon: mdi:play-pause
                icon_color: rgba({{states('input_text.player_card_button_active_color')}})
                card_mod:
                  style: |
                    ha-card {
                      margin: -30px 0px 0px 0px;
                         --chip-border-radius: 50%;
                         --chip-height: 125px;
                      weight: 0px; }
                    ha-card:hover {
                      --chip-background: rgba({{states('input_text.player_card_button_hover_color')}});
                      scale: 1.1;}
              - type: spacer
              - type: template
                icon: mdi:skip-next
                icon_color: rgba({{states('input_text.player_card_button_active_color')}})
                tap_action:
                  action: perform-action
                  perform_action: media_player.media_next_track
                  target:
                    entity_id: media_player.edifier
                hold_action:
                  action: none
                double_tap_action:
                  action: none
                card_mod:
                  style: |
                    ha-card:hover {
                      --chip-background: rgba({{states('input_text.player_card_button_hover_color')}});
                      scale: 1.1;
                      }
              - type: spacer
            alignment: center
            card_mod:
              style: |
                ha-card {
                     margin: 20px 12px 20px 12px;
                      opacity: 100%;
                      --chip-background: rgba({{states('input_text.player_card_button_color')}});
                      --chip-height: 65px;
                      --chip-border-radius: 50%;
                      --chip-spacing: 25px;
                      position: absolute !important;
                      left: 0px;
                      right: 0px;
                      top: 195px !important;
                      background-color: none !important; }
                ha-card:hover {
                   opacity: 100%;
                }
          - type: custom:mushroom-chips-card
            chips:
              - type: template
                icon: mdi:volume-medium
                tap_action:
                  action: perform-action
                  perform_action: script.volume_down
                  target: {}
                hold_action:
                  action: none
                double_tap_action:
                  action: none
                card_mod:
                  style: |
                    ha-card:hover {
                      --chip-background: rgba({{states('input_text.player_card_button_hover_color')}});
                      scale: 1.1;}
              - type: template
                icon: mdi:volume-high
                tap_action:
                  action: perform-action
                  perform_action: script.volume_up
                  target: {}
                hold_action:
                  action: none
                double_tap_action:
                  action: none
                card_mod:
                  style: |
                    ha-card:hover {
                      --chip-background: rgba({{states('input_text.player_card_button_hover_color')}});
                      scale: 1.1;}
            alignment: justify
            card_mod:
              style: |
                ha-card {
                     margin: 20px 12px 20px 12px;
                      opacity: 100%;
                      --chip-height: 50px;
                      --chip-background: rgba({{states('input_text.player_card_button_color')}});
                      --chip-border-radius: 50%;
                      --chip-spacing: 25px;
                      position: absolute !important;
                      left: 0px;
                      right: 0px;
                      top: 418px !important;
                      background-color: transparent !important;
                      }
                ha-card:hover {
                   opacity: 100%;
        card_mod:
          style: |
            ha-card {
              opacity:0%;
              --chip-height: 50px;
              --chip-background: rgba({{states('input_text.player_card_button_color')}});
              --chip-border-radius: 30px;
              position: absolute !important;
              border-radius: 30px;
              top: 0px !important;
              left: 0px;
              right: 0px;
              background-color: transparent !important;
              }
            ha-card:hover {
               opacity: 100%; }
      - type: custom:mushroom-chips-card
        chips:
          - type: template
            icon: lucide:share
            icon_color: disabled
            tap_action:
              action: navigate
              navigation_path: "#edifier"
            hold_action:
              action: none
            double_tap_action:
              action: none
            card_mod:
              style: |
                ha-card:hover {
                  --chip-background: rgba(var(--rgb-primary-text-color), 0.1);
                  scale: 1;}
        alignment: center
        card_mod:
          style: |
            ha-card {
              --chip-height: 50px;
              --chip-background: none;
              --chip-border-radius: 50px;
              --primary-text-color: rgba(var(--rgb-disabled)); ;
              background-color: transparent !important;
              }
    card_mod:
      style: |
        ha-card:before {
          transform: translate3d(0,0,0);
          -webkit-transform: translate3d(0,0,0);
          content: "";
          position: absolute;
          height: 100%;
          width: 100%;

          background: transparent !important;
          filter: blur(0px) saturate(200%);
          background-size: 100% 100%;
        }
        ha-card {

        background-color: transparent !important;
        padding: 0px;
          transform: translate3d(0,0,0);
          -webkit-transform: translate3d(0,0,0);

        }
  - type: vertical-stack
    cards:
      - type: custom:bubble-card
        card_type: pop-up
        hash: "#edifier"
        name: Edifier R1280DB
        icon: mdi:speaker
        margin_top_mobile: calc(100vh - 300px)
        margin_top_desktop: calc(100vh - 250px)
        tap_action:
          action: none
        double_tap_action:
          action: none
        hold_action:
          action: none
        card_layout: large
        columns: 4
        rows: 2
      - type: custom:mushroom-chips-card
        chips:
          - type: template
            icon: ""
            content: ""
            icon_color: ""
            card_mod:
              style: |
                ha-card {
                  weight: 2%;
                  --chip-background: transparent;
                  --chip-height: 2px;
                }
          - type: template
            content: M-Audio
            tap_action:
              action: perform-action
              perform_action: script.line_1
              target: {}
            icon: mdi:audio-input-rca
            icon_color: |-
              {%if is_state('input_select.r1280db_source','M-Audio')%} blue
              {%else %} '1'
              {% endif %}
            card_mod:
              style: |
                ha-card {
                  --chip-background:             
                     {%if is_state('input_select.r1280db_source','M-Audio')%} rgba({{states('input_text.player_card_button_active_color')}})
                     {%else %} rgba({{states('input_text.player_card_button_color')}});
                     {% endif %};
                  --text-color:
                     {%if is_state('input_select.r1280db_source','M-Audio')%} black
                     {%else %} 
                     {% endif %};
                  }
                ha-card:hover {

                  --chip-background:             
                     {%if is_state('input_select.r1280db_source','M-Audio')%} rgba({{states('input_text.player_card_button_hover_active_color')}});  
                     {%else %} rgba({{states('input_text.player_card_button_hover_color')}})
                     {% endif %};

                  }
          - type: template
            content: PC
            tap_action:
              action: perform-action
              perform_action: script.line_2
              target: {}
            hold_action:
              action: none
            double_tap_action:
              action: none
            icon: fas:computer
            icon_color: |-
              {% if is_state('input_select.r1280db_source','PC')%} blue
              {% else %} '1'
              {% endif %}
            card_mod:
              style: |
                ha-card {
                  --chip-background:             
                     {%if is_state('input_select.r1280db_source','PC')%} rgba({{states('input_text.player_card_button_active_color')}})
                     {%else %} rgba({{states('input_text.player_card_button_color')}});
                     {% endif %};
                  --text-color:
                     {%if is_state('input_select.r1280db_source','PC')%} black
                     {%else %} 
                     {% endif %};
                  }
                ha-card:hover {

                  --chip-background:             
                     {%if is_state('input_select.r1280db_source','PC')%} rgba({{states('input_text.player_card_button_hover_active_color')}});  
                     {%else %} rgba({{states('input_text.player_card_button_hover_color')}})
                     {% endif %};

                  }
          - type: template
            content: Bluetooth
            tap_action:
              action: perform-action
              perform_action: script.bluetooth
              target: {}
            icon: mdi:bluetooth
            icon_color: |-
              {%if is_state('input_select.r1280db_source','Bluetooth')%} blue
              {%else %}  '1'
              {% endif %}
            card_mod:
              style: |
                ha-card {
                  --chip-background:             
                     {%if is_state('input_select.r1280db_source','Bluetooth')%} rgba({{states('input_text.player_card_button_active_color')}})
                     {%else %} rgba({{states('input_text.player_card_button_color')}});
                     {% endif %};
                  --text-color:
                     {%if is_state('input_select.r1280db_source','Bluetooth')%} black
                     {%else %} 
                     {% endif %};
                  }
                ha-card:hover {
                  --chip-background:             
                     {%if is_state('input_select.r1280db_source','Bluetooth')%} rgba({{states('input_text.player_card_button_hover_active_color')}});  
                     {%else %} rgba({{states('input_text.player_card_button_hover_color')}})
                     {% endif %};

                  }
                  
          - type: template
            icon: ""
            content: ""
            icon_color: ""
            card_mod:
              style: |
                ha-card {
                  weight: 10%;
                  --chip-background: transparent;
                  --chip-height: 10px;
                }
        card_mod:
          style: |
            ha-card {
              opacity:100%;
              --chip-height: 50px;
              --chip-background: rgba({{states('input_text.player_card_button_color')}});
              --chip-border-radius: 50px;
              background-color: transparent !important;
              }
            ha-card:hover {
               opacity: 100%; }
            ha-card > .chip-container {
              flex-wrap: nowrap;
              overflow-x: scroll;
              overflow-y: hidden;
              --chip-spacing: 10px;
              --chip-height: 45px;
              --chip-font-weight: bolder; 
              --primary-text-color: white;
              margin-top: 5px;
              margin-left: -10px;  
              margin-right: -20px;
              margin-bottom: -10px; 
              padding-bottom: 20px;
            }
            ha-card > .chip-container > * {
              flex-shrink: 0;
            }
    grid_options:
      columns: full
  - type: heading
    icon: mdi:speaker
    heading_style: title
    heading: 1.1.0
    visibility:
      - condition: state
        entity: sensor.balkon_window_l_battery
        state: "890"
