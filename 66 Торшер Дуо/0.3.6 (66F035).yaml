type: grid
cards:
  - type: conditional
    conditions:
      - condition: state
        entity: "12"
        state: "12"
    card:
      type: vertical-stack
      cards:
        - type: heading
          icon: mdi:information
          heading: Статусная строка
          heading_style: title
          card_mod:
            style: |
              ha-card {
                   background: rgba(200,100,0) !important;
                 }
    grid_options:
      columns: 6
      rows: auto
  - type: custom:vertical-stack-in-card
    cards:
      - type: custom:mushroom-chips-card
        chips:
          - type: template
            icon: mdi:power
            icon_color: |2-
                    {%if is_state(config.entity,'on')%} red
                    {%else %} disabled
                    {% endif %}
            entity: light.torsher_2
            tap_action:
              action: toggle
            hold_action:
              action: none
            double_tap_action:
              action: none
            card_mod:
              style: |
                ha-card {
                  opacity: 0.4 }   
                ha-card:hover {
                  opacity: 1 }     
                ha-card:active {
                  scale: 0.9;
                }  
          - type: spacer
          - type: conditional
            conditions:
              - condition: state
                entity: light.torsher_duo_niz
                state: "on"
            chip:
              type: template
              tap_action:
                action: more-info
              hold_action:
                action: none
              double_tap_action:
                action: none
              icon: mdi:circle
              icon_color: "{{state_attr(config.entity, 'rgb_color')}}"
              entity: light.torsher_duo_niz
              card_mod:
                style: |
                  ha-card {
                    opacity: 0.4 }   
                  ha-card:hover {
                    opacity: 1 }     
                  ha-card:active {
                    scale: 0.9;
                  }  
          - type: conditional
            conditions:
              - condition: state
                entity: light.torsher_duo_verkh
                state: "on"
            chip:
              type: template
              tap_action:
                action: more-info
              hold_action:
                action: none
              double_tap_action:
                action: none
              icon: mdi:circle
              icon_color: "{{state_attr(config.entity, 'rgb_color')}}"
              entity: light.torsher_duo_verkh
              card_mod:
                style: |
                  ha-card {
                    opacity: 0.4 }   
                  ha-card:hover {
                    opacity: 1 }     
                  ha-card:active {
                    scale: 0.9;
                  }  
          - type: template
            icon: mdi:information
            tap_action:
              action: more-info
            hold_action:
              action: none
            double_tap_action:
              action: none
            entity: light.torsher_2
            card_mod:
              style: |
                ha-card {
                  opacity: 0.4 }   
                ha-card:hover {
                  opacity: 1 }     
                ha-card:active {
                  scale: 0.9;
                }  
        alignment: start
        card_mod:
          style: |
            {% set top = 7 %}
            {% set chip_height = 48 %}
            {% include 'title_chips_scrollable.jinja' %}
    card_mod:
      style: |
        {% set top = 100 %}
        {% include 'fixed_settings.jinja' %}
    grid_options:
      columns: 6
      rows: auto
  - type: conditional
    conditions:
      - condition: state
        entity: "12"
        state: "12"
    card:
      type: vertical-stack
      cards:
        - type: heading
          icon: mdi:view-dashboard
          heading: Карта
          heading_style: title
          card_mod:
            style: |
              ha-card {
                   background: rgba(200,0,100) !important;
                 }
    grid_options:
      columns: 6
      rows: auto
  - type: custom:vertical-stack-in-card
    cards:
      - type: vertical-stack
        cards:
          - type: custom:mushroom-template-card
            primary: |+

            secondary: ""
            icon: ""
            picture: ""
            badge_icon: ""
            badge_color: ""
            layout: vertical
            icon_color: ""
            tap_action:
              action: none
            double_tap_action:
              action: none
            fill_container: true
            hold_action:
              action: none
            card_mod:
              style: |
                {% set domain = 'light' %}
                {% set entity_down = 'light.lamp15' %}
                {% set entity_up = 'light.lamp16' %}
                {% if is_state(entity_down,'on') and
                is_state(entity_up,'on') %}
                    {% if state_attr(entity_down,'rgb_color') == state_attr(entity_up,'rgb_color') %}
                        {% set file = "linear-gradient(180deg, rgba(" ~ state_attr(entity_down,'rgb_color')|replace("(","")|replace(")","") ~ ",0.8), rgba(" ~ state_attr(entity_up,'rgb_color')|replace("(","")|replace(")","") ~ ",0.5) 100%);" %}
                    {% else %}
                        {% set file = "linear-gradient(180deg, rgba(" ~ state_attr(entity_down,'rgb_color')|replace("(","")|replace(")","") ~ ",0.8), rgba(" ~ state_attr(entity_up,'rgb_color')|replace("(","")|replace(")","") ~ ",0.8) 100%);" %}
                    {% endif %}
                {% elif is_state(entity_down,'on') and
                is_state(entity_up,'off') %}
                    {% set file = "linear-gradient(180deg, rgba(" ~ state_attr(entity_down,'rgb_color')|replace("(","")|replace(")","") ~ ",0.8), rgba(40,40,40,0.5) 90%);" %}
                {% elif is_state(entity_down,'off') and
                is_state(entity_up,'on') %}
                    {% set file = "linear-gradient(180deg, rgba(40,40,40,0.5), rgba(" ~ state_attr(entity_up,'rgb_color')|replace("(","")|replace(")","") ~ ",0.8) 150%);" %}
                {% else %}
                    {% set file = "linear-gradient(180deg, rgba(90,90,90,1), rgba(0,0,0,1) 100%);" %}
                {% endif %}
                {% set entity = 'light.torsher_2' %}
                {% set state_on = 'on' %}

                {% include 'cover_card_cover.jinja' %}
          - type: custom:mushroom-template-card
            primary: Торшер Дуо
            secondary: "{{state_translated(config.entity)}}"
            icon: ""
            entity: light.torsher_2
            picture: ""
            badge_icon: ""
            badge_color: ""
            layout: vertical
            icon_color: ""
            tap_action:
              action: none
            double_tap_action:
              action: none
            fill_container: true
            card_mod:
              style:
                .: |
                  {% include 'cover_device_name.jinja' %}
                mushroom-state-info$: |
                  .container {
                   --card-secondary-font-size: 15px;
                   --card-primary-font-size: 20px;
                   --card-secondary-color: rgba(var(--rgb-primary-text-color), 0.6);
                  }
          - type: custom:mushroom-chips-card
            chips:
              - type: template
                entity: light.torsher_2
                tap_action:
                  action: toggle
                hold_action:
                  action: none
                double_tap_action:
                  action: none
                icon: mdi:power
                icon_color: >-
                  {%if is_state('light.torsher_2','on')%}
                  {{state_attr(config.entity,'rgb_color')}} {%else %} '1' {%
                  endif %}
                card_mod:
                  style:
                    .: >

                      {% set hover = 'true' %}

                      {% set stating = 'true' %}

                      {% set state_on = 'on' %}

                      {% set color = 'rgba(120,120,120,0.2)' %}

                      {% set hover_color_off = 'rgba(120,120,120,0.3)
                      !important' %}

                      {% include 'chip_settings_style.jinja' %}
            alignment: center
            card_mod:
              style:
                .: |
                  {% include 'chip_buttons_big.jinja' %}
          - type: custom:bubble-card
            card_type: separator
            styles: |
              .bubble-line {
                background: var(--primary-text-color);
                opacity: 0.1;
                margin: 40px;
              }
            card_mod:
              style:
                .: >
                  ha-card {
                    margin: {{left|default(0)}}px 150px 0px;
                  }

                  @media (max-width: 1150px) {
                    ha-card {
                      margin: {{left|default(0)}}px {{space|default(0)}}px 0px;
                    }
                  }

                  @media (min-aspect-ratio: 1.8/1) and (max-aspect-ratio: 2/1)
                  and (max-width: 2000px){
                    ha-card {
                    margin: 0px {{space|default(0)}}px 0px  ;
                    }
                  }
          - type: custom:mushroom-chips-card
            chips:
              - type: template
                tap_action:
                  action: navigate
                  navigation_path: "#torsher_duo"
                icon: mdi:dots-horizontal
                icon_color: "1"
                hold_action:
                  action: none
                double_tap_action:
                  action: none
                card_mod:
                  style:
                    .: |
                      {% set hover = 'true' %}
                      {% set stating = 'false' %}
                      {% include 'chip_settings_style.jinja' %}
            alignment: center
            layout_options:
              grid_columns: full
            card_mod:
              style:
                .: |
                  {% set top = '0' %}
                  {% include 'chip_buttons_small.jinja' %}
        grid_options:
          columns: 24
          rows: auto
        card_mod:
          style: |
            ha-card:before {
              transform: translate3d(0,0,0);
              -webkit-transform: translate3d(0,0,0);
              content: "";
              position: absolute;
              height: 100%;
              width: 100%;

              background: transparent !important;
              filter: blur(0px) saturate(200%);
              background-size: 100% 100%;
            }
            ha-card {

            background-color: transparent !important;
            padding: 0px;
              transform: translate3d(0,0,0);
              -webkit-transform: translate3d(0,0,0);

            }
    grid_options:
      columns: 6
      rows: auto
    card_mod:
      style: |
        {% set top = 160 %}
        {% include 'fixed_settings.jinja' %}
  - type: conditional
    conditions:
      - condition: state
        entity: "12"
        state: "12"
    card:
      type: vertical-stack
      cards:
        - type: heading
          icon: hue:bollard
          heading: 0.3.4
          heading_style: title
          card_mod:
            style: |
              ha-card {
                   background: rgba(100,0,200) !important;
                 }
    grid_options:
      columns: 6
      rows: auto
  - type: vertical-stack
    cards:
      - type: custom:bubble-card
        card_type: pop-up
        hash: "#torsher_duo"
        name: Торшер Дуо
        icon: hue:bollard
        margin_top_mobile: calc(100vh - 700px)
        margin_top_desktop: calc(100vh - 650px)
        tap_action:
          action: none
        double_tap_action:
          action: none
        hold_action:
          action: none
        show_header: false
        close_by_clicking_outside: false
        backdrop_blur: "5"
        bg_blur: "100"
        bg_opacity: "88"
      - type: custom:mushroom-chips-card
        chips:
          - type: template
            content: Торшер Дуо
            double_tap_action:
              action: none
            tap_action:
              action: none
            hold_action:
              action: none
            icon: ""
          - type: spacer
          - type: back
        layout_options:
          grid_columns: full
        card_mod:
          style:
            mushroom-back-chip:nth-child(3)$: |
              ha-state-icon {
                --card-mod-icon: mdi:close;
              }
            .: |
              ha-card {
                margin: 12px 0px 0px;
                --chip-background: none;
                --chip-border-width: 0;
                --chip-box-shadow: none;
                --chip-border-radius: 12px;
                --chip-height: 40px;
                --chip-padding: 14px;
                --chip-spacing: -35px;
                --chip-icon-size: 0.7em;
                --chip-font-size: 0.6em;
              }
              }
      - square: false
        type: grid
        cards:
          - type: custom:vertical-stack-in-card
            cards:
              - type: custom:mushroom-template-card
                primary: Верхний
                secondary: ""
                icon: mdi:lightbulb
                badge_icon: ""
                tap_action:
                  action: toggle
                icon_color: "1"
                double_tap_action:
                  action: none
                badge_color: ""
                fill_container: true
                picture: ""
                hold_action:
                  action: none
                layout: horizontal
                entity: light.torsher_duo_verkh
                card_mod:
                  style:
                    mushroom-shape-icon$: |
                      .shape {
                        --shape-color: none !important;
                        --icon-symbol-size:28px;
                        padding-right: 0px;

                      }
                    .: |
                      ha-card { 
                        background-color: rgba(255,255,255,0) ;
                      } 
              - type: custom:mushroom-light-card
                entity: light.torsher_duo_verkh
                use_light_color: false
                secondary_info: none
                primary_info: none
                layout: vertical
                show_brightness_control: false
                icon_type: none
                show_color_temp_control: false
                show_color_control: true
                card_mod:
                  style:
                    mushroom-state-info$: ""
                    .: |
                      ha-card { 
                        margin-top: -15px;
                        background-color: rgba(255,255,255,0) }};
                      }  
            card_mod:
              style: |
                ha-card {
                  position: relative;
                  overflow: hidden;
                  transform: translate3d(0,0,0);
                  -webkit-transform: translate3d(0,0,0);
                  border: {{states('input_number.s_card_border_width')|int(0)}}px solid var(--ha-card-border-color, rgba(var(--rgb-primary-text-color),0.1)) !important;
                  border-radius: {{states('input_number.s_card_border_radius') |int(20)}}px;   
                 }
                ha-card:before {
                  content: "";
                  position: absolute;
                  top: -50%;
                  left: -50%;
                  right: -50%;
                  bottom: -50%;
                  
                  
                  {% if is_state('light.torsher_duo_verkh','on') %}
                  background-color: rgba({{state_attr('light.torsher_duo_verkh','rgb_color')| replace("(","") | replace(")","")}}, 0.7);
                  {% else %} 
                  background-color: rgba(var(--rgb-primary-text-color), 0.05);
                  {% endif %}
                  

                  filter: blur(30px) saturate(200%) opacity(35%);
                  transform: translate3d(0,0,0);
                  -webkit-transform: translate3d(0,0,0);
                  z-index: 0;
                }
                ha-card:hover {
                  background-color: rgba(var(--rgb-primary-text-color), 0.1)!important;!important;
                }
                  
          - type: custom:vertical-stack-in-card
            cards:
              - type: custom:mushroom-template-card
                primary: Нижний
                secondary: ""
                icon: mdi:lightbulb
                badge_icon: ""
                tap_action:
                  action: toggle
                icon_color: "1"
                double_tap_action:
                  action: none
                badge_color: ""
                fill_container: true
                picture: ""
                hold_action:
                  action: none
                layout: horizontal
                entity: light.torsher_duo_niz
                card_mod:
                  style:
                    mushroom-shape-icon$: |
                      .shape {
                        --shape-color: none !important;
                        --icon-symbol-size:28px;
                        padding-right: 0px;

                      }
                    .: |
                      ha-card { 
                        background-color: rgba(255,255,255,0) ;
                      } 
              - type: custom:mushroom-light-card
                entity: light.torsher_duo_niz
                use_light_color: false
                secondary_info: none
                primary_info: none
                layout: vertical
                show_brightness_control: false
                icon_type: none
                show_color_temp_control: false
                show_color_control: true
                card_mod:
                  style:
                    mushroom-state-info$: ""
                    .: |
                      ha-card { 
                        margin-top: -15px;
                        background-color: rgba(255,255,255,0) }};
                      }  
            card_mod:
              style: |
                ha-card {
                  position: relative;
                  overflow: hidden;
                  transform: translate3d(0,0,0);
                  -webkit-transform: translate3d(0,0,0);
                  border: {{states('input_number.s_card_border_width')|int(0)}}px solid var(--ha-card-border-color, rgba(var(--rgb-primary-text-color),0.1)) !important;
                  border-radius: {{states('input_number.s_card_border_radius') |int(20)}}px;   
                }
                ha-card:before {
                  content: "";
                  position: absolute;
                  top: -50%;
                  left: -50%;
                  right: -50%;
                  bottom: -50%;
                  
                  
                  {% if is_state('light.torsher_duo_niz','on') %}
                  background-color: rgba({{state_attr('light.torsher_duo_niz','rgb_color')| replace("(","") | replace(")","")}}, 0.7);
                  {% else %} 
                  background-color: rgba(var(--rgb-primary-text-color), 0.05);
                  {% endif %}
                  

                  filter: blur(30px) saturate(200%) opacity(35%);
                  transform: translate3d(0,0,0);
                  -webkit-transform: translate3d(0,0,0);
                  z-index: 0;
                }
                ha-card:hover {
                  background-color: rgba(var(--rgb-primary-text-color), 0.1)!important;;
                }
                  
          - type: custom:vertical-stack-in-card
            cards:
              - type: custom:mushroom-template-card
                primary: Один цвет
                secondary: ""
                icon: mdi:lightbulb
                badge_icon: ""
                tap_action:
                  action: toggle
                icon_color: "1"
                double_tap_action:
                  action: none
                badge_color: ""
                fill_container: true
                picture: ""
                hold_action:
                  action: none
                layout: horizontal
                entity: light.torsher_2
                card_mod:
                  style:
                    mushroom-shape-icon$: |
                      .shape {
                        --shape-color: none !important;
                        --icon-symbol-size:28px;
                        padding-right: 0px;

                      }
                    .: |
                      ha-card { 
                        background-color: rgba(255,255,255,0) ;
                      } 
              - type: custom:mushroom-light-card
                entity: light.torsher_2
                use_light_color: false
                secondary_info: none
                primary_info: none
                layout: vertical
                show_brightness_control: false
                icon_type: none
                show_color_control: true
                show_color_temp_control: false
                card_mod:
                  style:
                    mushroom-state-info$: ""
                    .: |
                      ha-card { 
                        margin-top: -15px;
                        background-color: rgba(255,255,255,0) }};
                      }  
            card_mod:
              style: |
                ha-card {
                  position: relative;
                  overflow: hidden;
                  transform: translate3d(0,0,0);
                  -webkit-transform: translate3d(0,0,0);
                  border: {{states('input_number.s_card_border_width')|int(0)}}px solid var(--ha-card-border-color, rgba(var(--rgb-primary-text-color),0.1)) !important;
                  border-radius: {{states('input_number.s_card_border_radius') |int(20)}}px;   
                }
                ha-card:before {
                  content: "";
                  position: absolute;
                  top: -50%;
                  left: -50%;
                  right: -50%;
                  bottom: -50%;
                  
                  {% if is_state('light.torsher_2','on') %}
                  background-color: rgba({{state_attr('light.torsher_2','rgb_color')| replace("(","") | replace(")","")}}, 0.7);
                  {% else %} 
                  background-color: rgba(var(--rgb-primary-text-color), 0.05);
                  {% endif %}
                  
                  filter: blur(30px) saturate(200%) opacity(35%);
                  transform: translate3d(0,0,0);
                  -webkit-transform: translate3d(0,0,0);
                  z-index: 0;
                }
                ha-card:hover {
                  background-color: rgba(var(--rgb-primary-text-color), 0.1)!important;;
                }
                  
          - type: custom:vertical-stack-in-card
            cards:
              - type: custom:mushroom-template-card
                primary: Яркость
                secondary: ""
                icon: mdi:lightbulb
                badge_icon: ""
                tap_action:
                  action: none
                icon_color: "1"
                double_tap_action:
                  action: none
                badge_color: ""
                fill_container: true
                picture: ""
                hold_action:
                  action: none
                layout: horizontal
                card_mod:
                  style:
                    mushroom-shape-icon$: |
                      .shape {
                        --shape-color: none !important;
                        --icon-symbol-size:28px;
                        padding-right: 0px;

                      }
                    .: |
                      ha-card { 
                        background-color: rgba(255,255,255,0) ;
                      } 
              - type: custom:mushroom-light-card
                entity: light.torsher_2
                use_light_color: true
                secondary_info: none
                primary_info: none
                layout: vertical
                show_brightness_control: true
                icon_type: none
                show_color_control: false
                show_color_temp_control: false
                card_mod:
                  style:
                    mushroom-state-info$: ""
                    .: |
                      ha-card { 
                        margin-top: -15px;
                        background-color: rgba(255,255,255,0) }};
                      }  
            card_mod:
              style: |
                ha-card {
                  position: relative;
                  overflow: hidden;
                  transform: translate3d(0,0,0);
                  -webkit-transform: translate3d(0,0,0);
                  border: {{states('input_number.s_card_border_width')|int(0)}}px solid var(--ha-card-border-color, rgba(var(--rgb-primary-text-color),0.1)) !important;
                  border-radius: {{states('input_number.s_card_border_radius') |int(20)}}px;   
                }
                ha-card:before {
                  content: "";
                  position: absolute;
                  top: -50%;
                  left: -50%;
                  right: -50%;
                  bottom: -50%;
                  
                  {% if is_state('light.torsher_2','on') %}
                  background-color: rgba({{state_attr('light.torsher_2','rgb_color')| replace("(","") | replace(")","")}}, 0.7);
                  {% else %} 
                  background-color: rgba(var(--rgb-primary-text-color), 0.05);
                  {% endif %}
                  
                  filter: blur(30px) saturate(200%) opacity(35%);
                  transform: translate3d(0,0,0);
                  -webkit-transform: translate3d(0,0,0);
                  z-index: 0;
                }
                ha-card:hover {
                  background-color: rgba(var(--rgb-primary-text-color), 0.1)!important;;
                }
                  
        columns: 2
      - type: custom:bubble-card
        card_type: separator
        styles: |
          .bubble-line {
            background: var(--primary-text-color);
            opacity: 0.1;
          }
        name: Пресеты
        icon: mdi:palette
      - square: false
        type: grid
        cards:
          - type: custom:vertical-stack-in-card
            cards:
              - type: custom:mushroom-template-card
                primary: ""
                secondary: ""
                icon: mdi:lightbulb
                badge_icon: ""
                tap_action:
                  action: perform-action
                  perform_action: light.turn_on
                  target:
                    entity_id: light.torsher_2
                  data:
                    rgb_color:
                      - 255
                      - 0
                      - 0
                icon_color: "1"
                layout: horizontal
                double_tap_action:
                  action: none
                badge_color: ""
                fill_container: true
                picture: ""
                hold_action:
                  action: none
                card_mod:
                  style:
                    mushroom-shape-icon$: |
                      .shape {
                        --shape-color: none !important;
                        --icon-symbol-size:28px;
                        padding-right: 100px;

                      }
                    .: |
                      ha-card { 
                        background-color: rgba(255,255,255,0) ;
                      } 
              - type: custom:mushroom-template-card
                primary: Красный
                secondary: ""
                icon: ""
                badge_icon: ""
                tap_action:
                  action: perform-action
                  perform_action: light.turn_on
                  target:
                    entity_id: light.torsher_2
                  data:
                    rgb_color:
                      - 255
                      - 0
                      - 0
                icon_color: ""
                layout: horizontal
                double_tap_action:
                  action: none
                badge_color: ""
                fill_container: true
                picture: ""
                hold_action:
                  action: none
                card_mod:
                  style:
                    mushroom-state-info$: |
                      .secondary {
                        position: absolute;
                        top: -10% !important;
                        left: 10px;
                        }
                      .container {
                       --card-primary-font-size: 13.5px;
                       --card-primary-font-weight: bolder;
                       --card-secondary-font-size: 13.5px;
                       --card-secondary-font-weight: bolder;
                    .: |
                      ha-card { 
                        background-color: rgba(255,255,255,0) }};
                      }  
            card_mod:
              style: |
                ha-card {
                  position: relative;
                  overflow: hidden;
                  transform: translate3d(0,0,0);
                  -webkit-transform: translate3d(0,0,0);
                  border: {{states('input_number.s_card_border_width')|int(0)}}px solid var(--ha-card-border-color, rgba(var(--rgb-primary-text-color),0.1)) !important;
                  border-radius: {{states('input_number.s_card_border_radius') |int(20)}}px;   
                }
                ha-card:before {
                  content: "";
                  position: absolute;
                  top: -50%;
                  left: -50%;
                  right: -50%;
                  bottom: -50%;
                  background: url('/local/images/torsh/red.png') center no-repeat;
                  background-size: 100%;
                  filter: blur(30px) saturate(200%) opacity(35%);
                  transform: translate3d(0,0,0);
                  -webkit-transform: translate3d(0,0,0);
                  z-index: 0;
                  
                }
                ha-card:hover {
                  background-color: rgba(var(--rgb-primary-text-color), 0.1)!important;;
                }
                  
          - type: custom:vertical-stack-in-card
            cards:
              - type: custom:mushroom-template-card
                primary: ""
                secondary: ""
                icon: mdi:lightbulb
                badge_icon: ""
                tap_action:
                  action: perform-action
                  perform_action: script.turn_on
                  target:
                    entity_id: script.torsher_duo_color_script
                  data:
                    variables:
                      color: rb
                icon_color: "1"
                layout: horizontal
                double_tap_action:
                  action: none
                badge_color: ""
                fill_container: true
                picture: ""
                hold_action:
                  action: none
                card_mod:
                  style:
                    mushroom-shape-icon$: |
                      .shape {
                        --shape-color: none !important;
                        --icon-symbol-size:28px;
                        padding-right: 100px;

                      }
                    .: |
                      ha-card { 
                        background-color: rgba(255,255,255,0) ;
                      } 
              - type: custom:mushroom-template-card
                primary: Синий
                secondary: Красный
                icon: ""
                badge_icon: ""
                tap_action:
                  action: perform-action
                  perform_action: script.turn_on
                  target:
                    entity_id: script.torsher_duo_color_script
                  data:
                    variables:
                      color: rb
                icon_color: ""
                layout: horizontal
                double_tap_action:
                  action: none
                badge_color: ""
                fill_container: true
                picture: ""
                hold_action:
                  action: none
                card_mod:
                  style:
                    mushroom-state-info$: |
                      .secondary {
                        position: absolute;
                        top: -10% !important;
                        left: 10px;
                        }
                      .container {
                       --card-primary-font-size: 13.5px;
                       --card-primary-font-weight: bolder;
                       --card-secondary-font-size: 13.5px;
                       --card-secondary-font-weight: bolder;
                    .: |
                      ha-card { 
                        background-color: rgba(255,255,255,0) }};
                      }  
            card_mod:
              style: |
                ha-card {
                  position: relative;
                  overflow: hidden;
                  transform: translate3d(0,0,0);
                  -webkit-transform: translate3d(0,0,0);
                  border: {{states('input_number.s_card_border_width')|int(0)}}px solid var(--ha-card-border-color, rgba(var(--rgb-primary-text-color),0.1)) !important;
                  border-radius: {{states('input_number.s_card_border_radius') |int(20)}}px;   
                }
                ha-card:before {
                  content: "";
                  position: absolute;
                  top: -50%;
                  left: -50%;
                  right: -50%;
                  bottom: -50%;
                  background: url('/local/images/torsh/r-b.png') center no-repeat;
                  background-size: 100%;
                  filter: blur(30px) saturate(200%) opacity(35%);
                  transform: translate3d(0,0,0);
                  -webkit-transform: translate3d(0,0,0);
                  z-index: 0;
                }
                ha-card:hover {
                  background-color: rgba(var(--rgb-primary-text-color), 0.1)!important;;
                }
                  
          - type: custom:vertical-stack-in-card
            cards:
              - type: custom:mushroom-template-card
                primary: ""
                secondary: ""
                icon: mdi:lightbulb
                badge_icon: ""
                tap_action:
                  action: perform-action
                  perform_action: script.turn_on
                  target:
                    entity_id: script.torsher_duo_color_script
                  data:
                    variables:
                      color: wb
                icon_color: "1"
                layout: horizontal
                double_tap_action:
                  action: none
                badge_color: ""
                fill_container: true
                picture: ""
                hold_action:
                  action: none
                card_mod:
                  style:
                    mushroom-shape-icon$: |
                      .shape {
                        --shape-color: none !important;
                        --icon-symbol-size:28px;
                        padding-right: 100px;

                      }
                    .: |
                      ha-card { 
                        background-color: rgba(255,255,255,0) ;
                      } 
              - type: custom:mushroom-template-card
                primary: Синий
                secondary: Белый
                icon: ""
                badge_icon: ""
                tap_action:
                  action: perform-action
                  perform_action: script.turn_on
                  target:
                    entity_id: script.torsher_duo_color_script
                  data:
                    variables:
                      color: wb
                icon_color: ""
                layout: horizontal
                double_tap_action:
                  action: none
                badge_color: ""
                fill_container: true
                picture: ""
                hold_action:
                  action: none
                card_mod:
                  style:
                    mushroom-state-info$: |
                      .secondary {
                        position: absolute;
                        top: -10% !important;
                        left: 10px;
                        }
                      .container {
                       --card-primary-font-size: 13.5px;
                       --card-primary-font-weight: bolder;
                       --card-secondary-font-size: 13.5px;
                       --card-secondary-font-weight: bolder;
                    .: |
                      ha-card { 
                        background-color: rgba(255,255,255,0) }};
                      }  
            card_mod:
              style: |
                ha-card {
                  position: relative;
                  overflow: hidden;
                  transform: translate3d(0,0,0);
                  -webkit-transform: translate3d(0,0,0);
                  border: {{states('input_number.s_card_border_width')|int(0)}}px solid var(--ha-card-border-color, rgba(var(--rgb-primary-text-color),0.1)) !important;
                  border-radius: {{states('input_number.s_card_border_radius') |int(20)}}px;   
                }
                ha-card:before {
                  content: "";
                  position: absolute;
                  top: -50%;
                  left: -50%;
                  right: -50%;
                  bottom: -50%;
                  background: url('/local/images/torsh/w-b.png') center no-repeat;
                  background-size: 100%;
                  filter: blur(30px) saturate(200%) opacity(35%);
                  transform: translate3d(0,0,0);
                  -webkit-transform: translate3d(0,0,0);
                  z-index: 0;
                }
                ha-card:hover {
                  background-color: rgba(var(--rgb-primary-text-color), 0.1)!important;;
                }
                  
          - type: custom:vertical-stack-in-card
            cards:
              - type: custom:mushroom-template-card
                primary: ""
                secondary: ""
                icon: mdi:lightbulb
                badge_icon: ""
                tap_action:
                  action: perform-action
                  perform_action: script.turn_on
                  target:
                    entity_id: script.torsher_duo_color_script
                  data:
                    variables:
                      color: gb
                icon_color: "1"
                layout: horizontal
                double_tap_action:
                  action: none
                badge_color: ""
                fill_container: true
                picture: ""
                hold_action:
                  action: none
                card_mod:
                  style:
                    mushroom-shape-icon$: |
                      .shape {
                        --shape-color: none !important;
                        --icon-symbol-size:28px;
                        padding-right: 100px;

                      }
                    .: |
                      ha-card { 
                        background-color: rgba(255,255,255,0) ;
                      } 
              - type: custom:mushroom-template-card
                primary: Синий
                secondary: Зелёный
                icon: ""
                badge_icon: ""
                tap_action:
                  action: perform-action
                  perform_action: script.turn_on
                  target:
                    entity_id: script.torsher_duo_color_script
                  data:
                    variables:
                      color: gb
                icon_color: ""
                layout: horizontal
                double_tap_action:
                  action: none
                badge_color: ""
                fill_container: true
                picture: ""
                hold_action:
                  action: none
                card_mod:
                  style:
                    mushroom-state-info$: |
                      .secondary {
                        position: absolute;
                        top: -10% !important;
                        left: 10px;
                        }
                      .container {
                       --card-primary-font-size: 13.5px;
                       --card-primary-font-weight: bolder;
                       --card-secondary-font-size: 13.5px;
                       --card-secondary-font-weight: bolder;
                    .: |
                      ha-card { 
                        background-color: rgba(255,255,255,0) }};
                      }  
            card_mod:
              style: |
                ha-card {
                  position: relative;
                  overflow: hidden;
                  transform: translate3d(0,0,0);
                  -webkit-transform: translate3d(0,0,0);
                  border: {{states('input_number.s_card_border_width')|int(0)}}px solid var(--ha-card-border-color, rgba(var(--rgb-primary-text-color),0.1)) !important;
                  border-radius: {{states('input_number.s_card_border_radius') |int(20)}}px;   
                }
                ha-card:before {
                  content: "";
                  position: absolute;
                  top: -50%;
                  left: -50%;
                  right: -50%;
                  bottom: -50%;
                  background: url('/local/images/torsh/g-b.png') center no-repeat;
                  background-size: 100%;
                  filter: blur(30px) saturate(200%) opacity(35%);
                  transform: translate3d(0,0,0);
                  -webkit-transform: translate3d(0,0,0);
                  z-index: 0;
                }
                ha-card:hover {
                  background-color: rgba(var(--rgb-primary-text-color), 0.1)!important;;
                }
                  
          - type: custom:vertical-stack-in-card
            cards:
              - type: custom:mushroom-template-card
                primary: ""
                secondary: ""
                icon: mdi:lightbulb
                badge_icon: ""
                tap_action:
                  action: perform-action
                  perform_action: script.turn_on
                  target:
                    entity_id: script.torsher_duo_color_script
                  data:
                    variables:
                      color: yo
                icon_color: "1"
                layout: horizontal
                double_tap_action:
                  action: none
                badge_color: ""
                fill_container: true
                picture: ""
                hold_action:
                  action: none
                card_mod:
                  style:
                    mushroom-shape-icon$: |
                      .shape {
                        --shape-color: none !important;
                        --icon-symbol-size:28px;
                        padding-right: 100px;

                      }
                    .: |
                      ha-card { 
                        background-color: rgba(255,255,255,0) ;
                      } 
              - type: custom:mushroom-template-card
                primary: Оранжевый
                secondary: Жёлтый
                icon: ""
                badge_icon: ""
                tap_action:
                  action: perform-action
                  perform_action: script.turn_on
                  target:
                    entity_id: script.torsher_duo_color_script
                  data:
                    variables:
                      color: yo
                icon_color: ""
                layout: horizontal
                double_tap_action:
                  action: none
                badge_color: ""
                fill_container: true
                picture: ""
                hold_action:
                  action: none
                card_mod:
                  style:
                    mushroom-state-info$: |
                      .secondary {
                        position: absolute;
                        top: -10% !important;
                        left: 10px;
                        }
                      .container {
                       --card-primary-font-size: 13.5px;
                       --card-primary-font-weight: bolder;
                       --card-secondary-font-size: 13.5px;
                       --card-secondary-font-weight: bolder;
                    .: |
                      ha-card { 
                        background-color: rgba(255,255,255,0) }};
                      }  
            card_mod:
              style: |
                ha-card {
                  position: relative;
                  overflow: hidden;
                  transform: translate3d(0,0,0);
                  -webkit-transform: translate3d(0,0,0);
                  border: {{states('input_number.s_card_border_width')|int(0)}}px solid var(--ha-card-border-color, rgba(var(--rgb-primary-text-color),0.1)) !important;
                  border-radius: {{states('input_number.s_card_border_radius') |int(20)}}px;   
                }
                ha-card:before {
                  content: "";
                  position: absolute;
                  top: -50%;
                  left: -50%;
                  right: -50%;
                  bottom: -50%;
                  background: url('/local/images/torsh/y-o.png') center no-repeat;
                  background-size: 100%;
                  filter: blur(30px) saturate(200%) opacity(35%);
                  transform: translate3d(0,0,0);
                  -webkit-transform: translate3d(0,0,0);
                  z-index: 0;
                }
                ha-card:hover {
                  background-color: rgba(var(--rgb-primary-text-color), 0.1)!important;;
                }
                  
          - type: custom:vertical-stack-in-card
            cards:
              - type: custom:mushroom-template-card
                primary: ""
                secondary: ""
                icon: mdi:lightbulb
                badge_icon: ""
                tap_action:
                  action: perform-action
                  perform_action: script.turn_on
                  target:
                    entity_id: script.torsher_duo_color_script
                  data:
                    variables:
                      color: yp
                icon_color: "1"
                layout: horizontal
                double_tap_action:
                  action: none
                badge_color: ""
                fill_container: true
                picture: ""
                hold_action:
                  action: none
                card_mod:
                  style:
                    mushroom-shape-icon$: |
                      .shape {
                        --shape-color: none !important;
                        --icon-symbol-size:28px;
                        padding-right: 100px;

                      }
                    .: |
                      ha-card { 
                        background-color: rgba(255,255,255,0) ;
                      } 
              - type: custom:mushroom-template-card
                primary: Сиреневый
                secondary: Жёлтый
                icon: ""
                badge_icon: ""
                tap_action:
                  action: perform-action
                  perform_action: script.turn_on
                  target:
                    entity_id: script.torsher_duo_color_script
                  data:
                    variables:
                      color: yp
                icon_color: ""
                layout: horizontal
                double_tap_action:
                  action: none
                badge_color: ""
                fill_container: true
                picture: ""
                hold_action:
                  action: none
                card_mod:
                  style:
                    mushroom-state-info$: |
                      .secondary {
                        position: absolute;
                        top: -10% !important;
                        left: 10px;
                        }
                      .container {
                       --card-primary-font-size: 13.5px;
                       --card-primary-font-weight: bolder;
                       --card-secondary-font-size: 13.5px;
                       --card-secondary-font-weight: bolder;
                    .: |
                      ha-card { 
                        background-color: rgba(255,255,255,0) }};
                      }  
            card_mod:
              style: |
                ha-card {
                  position: relative;
                  overflow: hidden;
                  transform: translate3d(0,0,0);
                  -webkit-transform: translate3d(0,0,0);
                  border: {{states('input_number.s_card_border_width')|int(0)}}px solid var(--ha-card-border-color, rgba(var(--rgb-primary-text-color),0.1)) !important;
                  border-radius: {{states('input_number.s_card_border_radius') |int(20)}}px;   
                }
                ha-card:before {
                  content: "";
                  position: absolute;
                  top: -50%;
                  left: -50%;
                  right: -50%;
                  bottom: -50%;
                  background: url('/local/images/torsh/y-p.png') center no-repeat;
                  background-size: 100%;
                  filter: blur(30px) saturate(200%) opacity(35%);
                  transform: translate3d(0,0,0);
                  -webkit-transform: translate3d(0,0,0);
                  z-index: 0;
                }
                ha-card:hover {
                  background-color: rgba(var(--rgb-primary-text-color), 0.1)!important;;
                }
                  
          - type: custom:vertical-stack-in-card
            cards:
              - type: custom:mushroom-template-card
                primary: ""
                secondary: ""
                icon: mdi:lightbulb
                badge_icon: ""
                tap_action:
                  action: perform-action
                  perform_action: script.turn_on
                  target:
                    entity_id: script.torsher_duo_color_script
                  data:
                    variables:
                      color: cw
                icon_color: "1"
                layout: horizontal
                double_tap_action:
                  action: none
                badge_color: ""
                fill_container: true
                picture: ""
                hold_action:
                  action: none
                card_mod:
                  style:
                    mushroom-shape-icon$: |
                      .shape {
                        --shape-color: none !important;
                        --icon-symbol-size:28px;
                        padding-right: 100px;

                      }
                    .: |
                      ha-card { 
                        background-color: rgba(255,255,255,0) ;
                      } 
              - type: custom:mushroom-template-card
                primary: Тёплый
                secondary: Холодный
                icon: ""
                badge_icon: ""
                tap_action:
                  action: perform-action
                  perform_action: script.turn_on
                  target:
                    entity_id: script.torsher_duo_color_script
                  data:
                    variables:
                      color: cw
                icon_color: ""
                layout: horizontal
                double_tap_action:
                  action: none
                badge_color: ""
                fill_container: true
                picture: ""
                hold_action:
                  action: none
                card_mod:
                  style:
                    mushroom-state-info$: |
                      .secondary {
                        position: absolute;
                        top: -10% !important;
                        left: 10px;
                        }
                      .container {
                       --card-primary-font-size: 13.5px;
                       --card-primary-font-weight: bolder;
                       --card-secondary-font-size: 13.5px;
                       --card-secondary-font-weight: bolder;
                    .: |
                      ha-card { 
                        background-color: rgba(255,255,255,0) }};
                      }  
            card_mod:
              style: |
                ha-card {
                  position: relative;
                  overflow: hidden;
                  transform: translate3d(0,0,0);
                  -webkit-transform: translate3d(0,0,0);
                  border: {{states('input_number.s_card_border_width')|int(0)}}px solid var(--ha-card-border-color, rgba(var(--rgb-primary-text-color),0.1)) !important;
                  border-radius: {{states('input_number.s_card_border_radius') |int(20)}}px;   
                }
                ha-card:before {
                  content: "";
                  position: absolute;
                  top: -50%;
                  left: -50%;
                  right: -50%;
                  bottom: -50%;
                  background: url('/local/images/torsh/c-w.png') center no-repeat;
                  background-size: 100%;
                  filter: blur(30px) saturate(200%) opacity(35%);
                  transform: translate3d(0,0,0);
                  -webkit-transform: translate3d(0,0,0);
                  z-index: 0;
                }
                ha-card:hover {
                  background-color: rgba(var(--rgb-primary-text-color), 0.1)!important;;
                }
                  
          - type: custom:vertical-stack-in-card
            cards:
              - type: custom:mushroom-template-card
                primary: ""
                secondary: ""
                icon: mdi:lightbulb
                badge_icon: ""
                tap_action:
                  action: perform-action
                  perform_action: light.turn_on
                  target:
                    entity_id: light.torsher_2
                  data:
                    effect: Slowdown
                icon_color: "1"
                layout: horizontal
                double_tap_action:
                  action: none
                badge_color: ""
                fill_container: true
                picture: ""
                hold_action:
                  action: none
                card_mod:
                  style:
                    mushroom-shape-icon$: |
                      .shape {
                        --shape-color: none !important;
                        --icon-symbol-size:28px;
                        padding-right: 100px;

                      }
                    .: |
                      ha-card { 
                        background-color: rgba(255,255,255,0) ;
                      } 
              - type: custom:mushroom-template-card
                primary: Цветной
                secondary: ""
                icon: ""
                badge_icon: ""
                tap_action:
                  action: perform-action
                  perform_action: light.turn_on
                  target:
                    entity_id: light.torsher_2
                  data:
                    effect: Slowdown
                icon_color: ""
                layout: horizontal
                double_tap_action:
                  action: none
                badge_color: ""
                fill_container: true
                picture: ""
                hold_action:
                  action: none
                card_mod:
                  style:
                    mushroom-state-info$: |
                      .secondary {
                        position: absolute;
                        top: -10% !important;
                        left: 10px;
                        }
                      .container {
                       --card-primary-font-size: 13.5px;
                       --card-primary-font-weight: bolder;
                       --card-secondary-font-size: 13.5px;
                       --card-secondary-font-weight: bolder;
                    .: |
                      ha-card { 
                        background-color: rgba(255,255,255,0) }};
                      }  
            card_mod:
              style: |
                ha-card {
                  position: relative;
                  overflow: hidden;
                  transform: translate3d(0,0,0);
                  -webkit-transform: translate3d(0,0,0);
                  border: {{states('input_number.s_card_border_width')|int(0)}}px solid var(--ha-card-border-color, rgba(var(--rgb-primary-text-color),0.1)) !important;
                  border-radius: {{states('input_number.s_card_border_radius') |int(20)}}px;   
                }
                ha-card:before {
                  content: "";
                  position: absolute;
                  top: -50%;
                  left: -50%;
                  right: -50%;
                  bottom: -50%;
                  background: url('/local/images/torsh/slowdown.png') center no-repeat;
                  background-size: 100%;
                  filter: blur(30px) saturate(200%) opacity(35%);
                  transform: translate3d(0,0,0);
                  -webkit-transform: translate3d(0,0,0);
                  z-index: 0;
                }
                ha-card:hover {
                  background-color: rgba(var(--rgb-primary-text-color), 0.1)!important;;
                }
                  
        columns: 4
  - type: markdown
    content: |+
      **0.3.0**

      1. Новый дизайн


    visibility:
      - condition: state
        entity: "1233"
        state: "12121"
    text_only: true
